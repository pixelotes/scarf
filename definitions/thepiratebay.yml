key: "thepiratebay"
name: "The Pirate Bay"
description: "The galaxy's most resilient Public BitTorrent site"
type: "public"
enabled: true
language: "en-US"
schedule: "@every 1h"

search:
  type: "json"
  urls:
    - "{{if .Query}}https://apibay.org/q.php?q={{.Query}}&cat={{.Category}}{{else}}https://apibay.org/precompiled/data_top100_recent.json{{end}}"

  results:
    path: ""
    fields:
      title:
        selector: "name"
      download_url:
        selector: "magnet:?xt=urn:btih:{{.Result.info_hash}}&dn={{.Result.name}}"
      size:
        selector: "size"
      seeders:
        selector: "seeders"
      leechers:
        selector: "leechers"
      publish_date:
        selector: "added"

category_mappings:
  - indexer_cat: "101"
    torznab_cat: 3000
  - indexer_cat: "102"
    torznab_cat: 3030
  - indexer_cat: "104"
    torznab_cat: 3040
  - indexer_cat: "201"
    torznab_cat: 2000
  - indexer_cat: "207"
    torznab_cat: 2040
  - indexer_cat: "211"
    torznab_cat: 2050
  - indexer_cat: "205"
    torznab_cat: 5000
  - indexer_cat: "208"
    torznab_cat: 5040
  - indexer_cat: "212"
    torznab_cat: 5050
  - indexer_cat: "301"
    torznab_cat: 4000
  - indexer_cat: "401"
    torznab_cat: 4050
  - indexer_cat: "601"
    torznab_cat: 7020